<!DOCTYPE html>
<html><!-- #BeginTemplate "../../templates/article.dwt" --><head><script src="Direct%20Memory%20Access%20%28DMA%29%20and%20Interrupt%20Handling_files/300lo.js" type="text/javascript"></script><script src="Direct%20Memory%20Access%20%28DMA%29%20and%20Interrupt%20Handling_files/_ate.js" type="text/javascript"></script>
<!-- #BeginEditable "doctitle" -->
<title>Direct Memory Access (DMA) and Interrupt Handling</title>
<meta name="description" content="In this article we will cover Direct Memory Access (DMA) and Interrupt Handling">
<meta name="keywords" content="Interrupt, DMA, Direct Memory Access, ISR, Interrupt Service Routine">

<!-- #EndEditable -->
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<script src="Direct%20Memory%20Access%20%28DMA%29%20and%20Interrupt%20Handling_files/ga.js" async="" type="text/javascript"></script><script src="Direct%20Memory%20Access%20%28DMA%29%20and%20Interrupt%20Handling_files/cloudflare.js" async=""></script><script type="text/javascript">
//<![CDATA[
try{if (!window.CloudFlare) {var CloudFlare=[{verbose:0,p:0,byc:0,owlid:"cf",bag2:1,mirage2:0,oracle:0,paths:{cloudflare:"/cdn-cgi/nexp/dok3v=1613a3a185/"},atok:"380a478f642c4eb164cd0ab434a64e06",petok:"fd87fe59f9149df2f21176f413d765ac862e0035-1492237819-1800",zone:"eventhelix.com",rocket:"0",apps:{"ga_key":{"ua":"UA-57131963-1","ga_bs":"2"}}}];!function(a,b){a=document.createElement("script"),b=document.getElementsByTagName("script")[0],a.async=!0,a.src="//ajax.cloudflare.com/cdn-cgi/nexp/dok3v=905ca5bd16/cloudflare.min.js",b.parentNode.insertBefore(a,b)}()}}catch(e){};
//]]>
</script>
<link href="Direct%20Memory%20Access%20%28DMA%29%20and%20Interrupt%20Handling_files/style.css" media="screen" rel="stylesheet" type="text/css">
<link href="Direct%20Memory%20Access%20%28DMA%29%20and%20Interrupt%20Handling_files/header-footer-style.css" media="screen" rel="stylesheet" type="text/css">
<script src="Direct%20Memory%20Access%20%28DMA%29%20and%20Interrupt%20Handling_files/jquery.js" type="text/javascript"></script><style type="text/css">.cf-hidden { display: none; } .cf-invisible { visibility: hidden; }</style>
<script src="Direct%20Memory%20Access%20%28DMA%29%20and%20Interrupt%20Handling_files/jquery_002.js" type="text/javascript"></script>

<script type="text/javascript">
/* <![CDATA[ */
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-57131963-1']);
_gaq.push(['_trackPageview']);

(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();

(function(b){(function(a){"__CF"in b&&"DJS"in b.__CF?b.__CF.DJS.push(a):"addEventListener"in b?b.addEventListener("load",a,!1):b.attachEvent("onload",a)})(function(){"FB"in b&&"Event"in FB&&"subscribe"in FB.Event&&(FB.Event.subscribe("edge.create",function(a){_gaq.push(["_trackSocial","facebook","like",a])}),FB.Event.subscribe("edge.remove",function(a){_gaq.push(["_trackSocial","facebook","unlike",a])}),FB.Event.subscribe("message.send",function(a){_gaq.push(["_trackSocial","facebook","send",a])}));"twttr"in b&&"events"in twttr&&"bind"in twttr.events&&twttr.events.bind("tweet",function(a){if(a){var b;if(a.target&&a.target.nodeName=="IFRAME")a:{if(a=a.target.src){a=a.split("#")[0].match(/[^?=&]+=([^&]*)?/g);b=0;for(var c;c=a[b];++b)if(c.indexOf("url")===0){b=unescape(c.split("=")[1]);break a}}b=void 0}_gaq.push(["_trackSocial","twitter","tweet",b])}})})})(window);
/* ]]> */
</script>
<style type="text/css">.at-icon{fill:#fff;border:0}.at-icon-wrapper{display:inline-block;overflow:hidden}a .at-icon-wrapper{cursor:pointer}.at-rounded,.at-rounded-element .at-icon-wrapper{border-radius:12%}.at-circular,.at-circular-element .at-icon-wrapper{border-radius:50%}.addthis_32x32_style .at-icon{width:2pc;height:2pc}.addthis_24x24_style .at-icon{width:24px;height:24px}.addthis_20x20_style .at-icon{width:20px;height:20px}.addthis_16x16_style .at-icon{width:1pc;height:1pc}#at16lb{display:none;position:absolute;top:0;left:0;width:100%;height:100%;z-index:1001;background-color:#000;opacity:.001}#at_complete,#at_error,#at_share,#at_success{position:static!important}.at15dn{display:none}#at15s,#at16p,#at16p form input,#at16p label,#at16p textarea,#at_share .at_item{font-family:arial,helvetica,tahoma,verdana,sans-serif!important;font-size:9pt!important;outline-style:none;outline-width:0;line-height:1em}* html #at15s.mmborder{position:absolute!important}#at15s.mmborder{position:fixed!important;width:250px!important}#at15s{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABtJREFUeNpiZGBgaGAgAjAxEAlGFVJHIUCAAQDcngCUgqGMqwAAAABJRU5ErkJggg==);float:none;line-height:1em;margin:0;overflow:visible;padding:5px;text-align:left;position:absolute}#at15s a,#at15s span{outline:0;direction:ltr;text-transform:none}#at15s .at-label{margin-left:5px}#at15s .at-icon-wrapper{width:1pc;height:1pc;vertical-align:middle}#at15s .at-icon{width:1pc;height:1pc}.at4-icon{display:inline-block;background-repeat:no-repeat;background-position:top left;margin:0;overflow:hidden;cursor:pointer}.addthis_16x16_style .at4-icon,.addthis_default_style .at4-icon,.at4-icon,.at-16x16{width:1pc;height:1pc;line-height:1pc;background-size:1pc!important}.addthis_32x32_style .at4-icon,.at-32x32{width:2pc;height:2pc;line-height:2pc;background-size:2pc!important}.addthis_24x24_style .at4-icon,.at-24x24{width:24px;height:24px;line-height:24px;background-size:24px!important}.addthis_20x20_style .at4-icon,.at-20x20{width:20px;height:20px;line-height:20px;background-size:20px!important}.at4-icon.circular,.circular .at4-icon,.circular.aticon{border-radius:50%}.at4-icon.rounded,.rounded .at4-icon{border-radius:4px}.at4-icon-left{float:left}#at15s .at4-icon{text-indent:20px;padding:0;overflow:visible;white-space:nowrap;background-size:1pc;width:1pc;height:1pc;background-position:top left;display:inline-block;line-height:1pc}.addthis_vertical_style .at4-icon,.at4-follow-container .at4-icon{margin-right:5px}html>body #at15s{width:250px!important}#at15s.atm{background:none!important;padding:0!important;width:10pc!important}#at15s_inner{background:#fff;border:1px solid #fff;margin:0}#at15s_head{position:relative;background:#f2f2f2;padding:4px;cursor:default;border-bottom:1px solid #e5e5e5}.at15s_head_success{background:#cafd99!important;border-bottom:1px solid #a9d582!important}.at15s_head_success a,.at15s_head_success span{color:#000!important;text-decoration:none}#at15s_brand,#at15sptx,#at16_brand{position:absolute}#at15s_brand{top:4px;right:4px}.at15s_brandx{right:20px!important}a#at15sptx{top:4px;right:4px;text-decoration:none;color:#4c4c4c;font-weight:700}#at15sptx:hover{text-decoration:underline}#at16_brand{top:5px;right:30px;cursor:default}#at_hover{padding:4px}#at_hover .at_item,#at_share .at_item{background:#fff!important;float:left!important;color:#4c4c4c!important}#at_share .at_item .at-icon-wrapper{margin-right:5px}#at_hover .at_bold{font-weight:700;color:#000!important}#at_hover .at_item{width:7pc!important;padding:2px 3px!important;margin:1px;text-decoration:none!important}#at_hover .at_item.athov,#at_hover .at_item:focus,#at_hover .at_item:hover{margin:0!important}#at_hover .at_item.athov,#at_hover .at_item:focus,#at_hover .at_item:hover,#at_share .at_item.athov,#at_share .at_item:hover{background:#f2f2f2!important;border:1px solid #e5e5e5;color:#000!important;text-decoration:none}.ipad #at_hover .at_item:focus{background:#fff!important;border:1px solid #fff}.at15t{display:block!important;height:1pc!important;line-height:1pc!important;padding-left:20px!important;background-position:0 0;text-align:left}.addthis_button,.at15t{cursor:pointer}.addthis_toolbox a.at300b,.addthis_toolbox a.at300m{width:auto}.addthis_toolbox a{margin-bottom:5px;line-height:initial}.addthis_toolbox.addthis_vertical_style{width:200px}.addthis_button_facebook_like .fb_iframe_widget{line-height:100%}.addthis_button_facebook_like iframe.fb_iframe_widget_lift{max-width:none}.addthis_toolbox a.addthis_button_counter,.addthis_toolbox a.addthis_button_facebook_like,.addthis_toolbox a.addthis_button_facebook_send,.addthis_toolbox a.addthis_button_facebook_share,.addthis_toolbox a.addthis_button_foursquare,.addthis_toolbox a.addthis_button_google_plusone,.addthis_toolbox a.addthis_button_linkedin_counter,.addthis_toolbox a.addthis_button_pinterest_pinit,.addthis_toolbox a.addthis_button_stumbleupon_badge,.addthis_toolbox a.addthis_button_tweet{display:inline-block}.at-share-tbx-element .google_plusone_iframe_widget>span>div{vertical-align:top!important}.addthis_toolbox span.addthis_follow_label{display:none}.addthis_toolbox.addthis_vertical_style span.addthis_follow_label{display:block;white-space:nowrap}.addthis_toolbox.addthis_vertical_style a{display:block}.addthis_toolbox.addthis_vertical_style.addthis_32x32_style a{line-height:2pc;height:2pc}.addthis_toolbox.addthis_vertical_style .at300bs{margin-right:4px;float:left}.addthis_toolbox.addthis_20x20_style span{line-height:20px}.addthis_toolbox.addthis_32x32_style span{line-height:2pc}.addthis_toolbox.addthis_pill_combo_style .addthis_button_compact .at15t_compact,.addthis_toolbox.addthis_pill_combo_style a{float:left}.addthis_toolbox.addthis_pill_combo_style a.addthis_button_tweet{margin-top:-2px}.addthis_toolbox.addthis_pill_combo_style .addthis_button_compact .at15t_compact{margin-right:4px}.addthis_default_style .addthis_separator{margin:0 5px;display:inline}div.atclear{clear:both}.addthis_default_style .addthis_separator,.addthis_default_style .at4-icon,.addthis_default_style .at300b,.addthis_default_style .at300bo,.addthis_default_style .at300bs,.addthis_default_style .at300m{float:left}.at300b img,.at300bo img{border:0}a.at300b .at4-icon,a.at300m .at4-icon{display:block}.addthis_default_style .at300b,.addthis_default_style .at300bo,.addthis_default_style .at300m{padding:0 2px}.at300b,.at300bo,.at300bs,.at300m{cursor:pointer}.addthis_button_facebook_like.at300b:hover,.addthis_button_facebook_like.at300bs:hover,.addthis_button_facebook_send.at300b:hover,.addthis_button_facebook_send.at300bs:hover{opacity:1}.addthis_20x20_style .at15t,.addthis_20x20_style .at300bs{overflow:hidden;display:block;height:20px!important;width:20px!important;line-height:20px!important}.addthis_32x32_style .at15t,.addthis_32x32_style .at300bs{overflow:hidden;display:block;height:2pc!important;width:2pc!important;line-height:2pc!important}.at300bs{overflow:hidden;display:block;background-position:0 0;height:1pc;width:1pc;line-height:1pc!important}.addthis_default_style .at15t_compact,.addthis_default_style .at15t_expanded{margin-right:4px}#at_share .at_item{width:123px!important;padding:4px;margin-right:2px;border:1px solid #fff}#at16p{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABtJREFUeNpiZGBgaGAgAjAxEAlGFVJHIUCAAQDcngCUgqGMqwAAAABJRU5ErkJggg==);z-index:10000001;position:absolute;top:50%;left:50%;width:300px;padding:10px;margin:0 auto;margin-top:-185px;margin-left:-155px;font-family:arial,helvetica,tahoma,verdana,sans-serif;font-size:9pt;color:#5e5e5e}#at_share{margin:0;padding:0}#at16pt{position:relative;background:#f2f2f2;height:13px;padding:5px 10px}#at16pt a,#at16pt h4{font-weight:700}#at16pt h4{display:inline;margin:0;padding:0;font-size:9pt;color:#4c4c4c;cursor:default}#at16pt a{position:absolute;top:5px;right:10px;color:#4c4c4c;text-decoration:none;padding:2px}#at15sptx:focus,#at16pt a:focus{outline:thin dotted}#at15s #at16pf a{top:1px}#_atssh{width:1px!important;height:1px!important;border:0!important}.atm{width:10pc!important;padding:0;margin:0;line-height:9pt;letter-spacing:normal;font-family:arial,helvetica,tahoma,verdana,sans-serif;font-size:9pt;color:#444;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABtJREFUeNpiZGBgaGAgAjAxEAlGFVJHIUCAAQDcngCUgqGMqwAAAABJRU5ErkJggg==);padding:4px}.atm-f{text-align:right;border-top:1px solid #ddd;padding:5px 8px}.atm-i{background:#fff;border:1px solid #d5d6d6;padding:0;margin:0;box-shadow:1px 1px 5px rgba(0,0,0,.15)}.atm-s{margin:0!important;padding:0!important}.atm-s a:focus{border:transparent;outline:0;-webkit-transition:none;transition:none}#at_hover.atm-s a,.atm-s a{display:block;text-decoration:none;padding:4px 10px;color:#235dab!important;font-weight:400;font-style:normal;-webkit-transition:none;transition:none}#at_hover.atm-s .at_bold{color:#235dab!important}#at_hover.atm-s a:hover,.atm-s a:hover{background:#2095f0;text-decoration:none;color:#fff!important}#at_hover.atm-s .at_bold{font-weight:700}#at_hover.atm-s a:hover .at_bold{color:#fff!important}.atm-s a .at-label{vertical-align:middle;margin-left:5px;direction:ltr}.at_PinItButton{display:block;width:40px;height:20px;padding:0;margin:0;background-image:url(//s7.addthis.com/static/t00/pinit00.png);background-repeat:no-repeat}.at_PinItButton:hover{background-position:0 -20px}.addthis_toolbox .addthis_button_pinterest_pinit{position:relative}.at-share-tbx-element .fb_iframe_widget span{vertical-align:baseline!important}#at16pf{height:auto;text-align:right;padding:4px 8px}.at-privacy-info{position:absolute;left:7px;bottom:7px;cursor:pointer;text-decoration:none;font-family:helvetica,arial,sans-serif;font-size:10px;line-height:9pt;letter-spacing:.2px;color:#666}.at-privacy-info:hover{color:#000}.body .wsb-social-share .wsb-social-share-button-vert{padding-top:0;padding-bottom:0}.body .wsb-social-share.addthis_counter_style .addthis_button_tweet.wsb-social-share-button{padding-top:40px}.body .wsb-social-share.addthis_counter_style .addthis_button_google_plusone.wsb-social-share-button{padding-top:0}.body .wsb-social-share.addthis_counter_style .addthis_button_facebook_like.wsb-social-share-button{padding-top:21px}@media print{#at4-follow,#at4-share,#at4-thankyou,#at4-whatsnext,#at4m-mobile,#at15s,.at4,.at4-recommended{display:none!important}}@media screen and (max-width:400px){.at4win{width:100%}}@media screen and (max-height:700px) and (max-width:400px){.at4-thankyou-inner .at4-recommended-container{height:122px;overflow:hidden}.at4-thankyou-inner .at4-recommended .at4-recommended-item:first-child{border-bottom:1px solid #c5c5c5}}</style><style type="text/css">.at-branding-logo{font-family:helvetica,arial,sans-serif;text-decoration:none;font-size:10px;display:inline-block;margin:2px 0;letter-spacing:.2px}.at-branding-logo .at-branding-icon{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAMAAAC67D+PAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAZQTFRF////+GlNUkcc1QAAAB1JREFUeNpiYIQDBjQmAwMmkwEM0JnY1WIxFyDAABGeAFEudiZsAAAAAElFTkSuQmCC")}.at-branding-logo .at-branding-icon,.at-branding-logo .at-privacy-icon{display:inline-block;height:10px;width:10px;margin-left:4px;margin-right:3px;margin-bottom:-1px;background-repeat:no-repeat}.at-branding-logo .at-privacy-icon{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAKCAMAAABR24SMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABhQTFRF8fr9ot/xXcfn2/P5AKva////////AKTWodjhjAAAAAd0Uk5T////////ABpLA0YAAAA6SURBVHjaJMzBDQAwCAJAQaj7b9xifV0kUKJ9ciWxlzWEWI5gMF65KUTv0VKkjVeTerqE/x7+9BVgAEXbAWI8QDcfAAAAAElFTkSuQmCC")}.at-branding-logo span{text-decoration:none}.at-branding-logo .at-branding-addthis,.at-branding-logo .at-branding-powered-by{color:#666}.at-branding-logo .at-branding-addthis:hover{color:#333}.at-cv-with-image .at-branding-addthis,.at-cv-with-image .at-branding-addthis:hover{color:#fff}a.at-branding-logo:visited{color:initial}.at-branding-info{display:inline-block;padding:0 5px;color:#666;border:1px solid #666;border-radius:50%;font-size:10px;line-height:9pt;opacity:.7;transition:all .3s ease;text-decoration:none}.at-branding-info span{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.at-branding-info:before{content:'i';font-family:Times New Roman}.at-branding-info:hover{color:#0780df;border-color:#0780df}</style></head>

<body>

<script type="text/javascript">
function activateSingleImageFancybox()
{
	
	$("a.single_image").fancybox({
		'hideOnContentClick': true,
		padding: 0,
'titleShow':false,
    'transitionIn':'elastic',
    'transitionOut':'elastic',
    'speedIn':600,
    'speedOut':500,
    'easingIn':'easeInOutExpo',
    'easingOut':'easeInOutExpo',	
    'showCloseButton': false	   
	});

}

</script>
<div id="wrapper">
	
	<div id="topnav">
		<ul>
			<li id="with-logo"><a href="http://www.eventhelix.com/" id="home">
			<img src="Direct%20Memory%20Access%20%28DMA%29%20and%20Interrupt%20Handling_files/EventHelix-white-square-bg-blue-cropped-small.png" alt="EventHelix.com home"></a></li>
			<li id="with-name"><a href="http://www.eventhelix.com/">EventHelix.com</a></li>
			<li class="menu-item"><a href="http://www.eventhelix.com/EventStudio/">eventstudio <em>model object and<br>message flows</em></a></li>
			<li class="menu-item"><a href="http://www.eventhelix.com/VisualEther/">visualether <em>Wireshark pcap<br>to call flow</em></a></li>
			<li class="menu-item"><a href="http://www.eventhelix.com/RealtimeMantra/">system design <em>LTE IMS GSM TCP/IP<br>Embedded OOAD</em></a></li>
			<li class="menu-item"><a href="http://www.eventhelix.com/contact_us.htm">company <em>contact us<br>support</em></a></li>
			<li class="menu-item"><a href="https://www.facebook.com/eventhelix">
			facebook <em>like us and<br>stay connected</em></a></li>
		</ul>
	</div>
	
	<script type="text/javascript">$.SyntaxHighlighter.init();</script>

	<div id="content"><div id="article">
	<div id="header-share">
			<h5>Share</h5>
			<!-- AddThis Button BEGIN -->
			<div class="addthis_toolbox addthis_default_style ">
				<a href="#" title="Facebook" class="addthis_button_facebook addthis_button_preferred_1 at300b"><span style="background-color: rgb(59, 89, 152); line-height: 16px; height: 16px; width: 16px;" class="at-icon-wrapper"><svg alt="Facebook" title="Facebook" style="width: 16px; height: 16px;" class="at-icon at-icon-facebook" viewBox="0 0 32 32" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg"><g><path fill-rule="evenodd" d="M22 5.16c-.406-.054-1.806-.16-3.43-.16-3.4 0-5.733 1.825-5.733 5.17v2.882H9v3.913h3.837V27h4.604V16.965h3.823l.587-3.913h-4.41v-2.5c0-1.123.347-1.903 2.198-1.903H22V5.16z"></path></g></svg></span></a>
				<a href="#" title="Twitter" class="addthis_button_twitter addthis_button_preferred_2 at300b"><span style="background-color: rgb(29, 161, 242); line-height: 16px; height: 16px; width: 16px;" class="at-icon-wrapper"><svg alt="Twitter" title="Twitter" style="width: 16px; height: 16px;" class="at-icon at-icon-twitter" viewBox="0 0 32 32" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg"><g><path fill-rule="evenodd" d="M27.996 10.116c-.81.36-1.68.602-2.592.71a4.526 4.526 0 0 0 1.984-2.496 9.037 9.037 0 0 1-2.866 1.095 4.513 4.513 0 0 0-7.69 4.116 12.81 12.81 0 0 1-9.3-4.715 4.49 4.49 0 0 0-.612 2.27 4.51 4.51 0 0 0 2.008 3.755 4.495 4.495 0 0 1-2.044-.564v.057a4.515 4.515 0 0 0 3.62 4.425 4.52 4.52 0 0 1-2.04.077 4.517 4.517 0 0 0 4.217 3.134 9.055 9.055 0 0 1-5.604 1.93A9.18 9.18 0 0 1 6 23.85a12.773 12.773 0 0 0 6.918 2.027c8.3 0 12.84-6.876 12.84-12.84 0-.195-.005-.39-.014-.583a9.172 9.172 0 0 0 2.252-2.336"></path></g></svg></span></a>
				<a href="#" title="Print" class="addthis_button_print addthis_button_preferred_3 at300b"><span style="background-color: rgb(115, 138, 141); line-height: 16px; height: 16px; width: 16px;" class="at-icon-wrapper"><svg alt="Print" title="Print" style="width: 16px; height: 16px;" class="at-icon at-icon-print" viewBox="0 0 32 32" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg"><g><path d="M24.67 10.62h-2.86V7.49H10.82v3.12H7.95c-.5 0-.9.4-.9.9v7.66h3.77v1.31L15 24.66h6.81v-5.44h3.77v-7.7c-.01-.5-.41-.9-.91-.9zM11.88 8.56h8.86v2.06h-8.86V8.56zm10.98 9.18h-1.05v-2.1h-1.06v7.96H16.4c-1.58 0-.82-3.74-.82-3.74s-3.65.89-3.69-.78v-3.43h-1.06v2.06H9.77v-3.58h13.09v3.61zm.75-4.91c-.4 0-.72-.32-.72-.72s.32-.72.72-.72c.4 0 .72.32.72.72s-.32.72-.72.72zm-4.12 2.96h-6.1v1.06h6.1v-1.06zm-6.11 3.15h6.1v-1.06h-6.1v1.06z"></path></g></svg></span></a>
				<a href="#" title="Email" target="_blank" class="addthis_button_email addthis_button_preferred_4 at300b"><span style="background-color: rgb(132, 132, 132); line-height: 16px; height: 16px; width: 16px;" class="at-icon-wrapper"><svg alt="Email" title="Email" style="width: 16px; height: 16px;" class="at-icon at-icon-email" viewBox="0 0 32 32" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg"><g><g fill-rule="evenodd"></g><path d="M27 22.757c0 1.24-.988 2.243-2.19 2.243H7.19C5.98 25 5 23.994 5 22.757V13.67c0-.556.39-.773.855-.496l8.78 5.238c.782.467 1.95.467 2.73 0l8.78-5.238c.472-.28.855-.063.855.495v9.087z"></path><path d="M27 9.243C27 8.006 26.02 7 24.81 7H7.19C5.988 7 5 8.004 5 9.243v.465c0 .554.385 1.232.857 1.514l9.61 5.733c.267.16.8.16 1.067 0l9.61-5.733c.473-.283.856-.96.856-1.514v-.465z"></path></g></svg></span></a>
				<a href="#" class="addthis_button_compact at300m"><span style="background-color: rgb(255, 101, 80); line-height: 16px; height: 16px; width: 16px;" class="at-icon-wrapper"><svg alt="More" title="More" style="width: 16px; height: 16px;" class="at-icon at-icon-addthis" viewBox="0 0 32 32" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg"><g><path fill-rule="evenodd" d="M18 14V8h-4v6H8v4h6v6h4v-6h6v-4h-6z"></path></g></svg></span></a>
			<div class="atclear"></div></div>
			
			<script type="text/javascript">var addthis_config = {"data_track_addressbar":true};</script>
			<script type="text/javascript" src="Direct%20Memory%20Access%20%28DMA%29%20and%20Interrupt%20Handling_files/addthis_widget.js"></script>
			<!-- AddThis Button END -->
		</div>
		<!-- #BeginEditable "content" -->
		<h1>Direct Memory Access (DMA) and Interrupt Handling</h1>
<p>In this series on hardware basics, we have already looked at <a href="http://www.eventhelix.com/RealtimeMantra/FaultHandling/bus_cycles.htm">read
and write bus cycles</a>. In this article we will cover Direct Memory Access
(DMA) and Interrupt Handling. Knowledge of DMA and interrupt handling would be
useful in writing code that interfaces directly with IO devices (<a href="http://www.eventhelix.com/RealtimeMantra/PatternCatalog/high_speed_serial_port.htm">DMA
based serial port design pattern</a> is a good example of such a device).</p>
<p>We will discuss the following topics:</p>
<table>
    <tbody><tr>
      <td><a href="#Direct%20Memory%20Access%20%28DMA%29">Direct Memory Access (DMA)</a></td>
      <td>A typical DMA operation is described here. Interactions
        between the main CPU and DMA device are covered. The impact of DMA on
        processor's internal cache is also covered.</td>
    </tr>
    <tr>
      <td><a href="#Interrupt%20Handling">Interrupt Handling</a></td>
      <td>Processor handling of hardware interrupts is described in
        this section.&nbsp;</td>
    </tr>
    <tr>
      <td><a href="#Interrupt%20Acknowledge%20Cycle">Interrupt Acknowledge Cycle</a></td>
      <td>Many processors allow the interrupting hardware device to
        identify itself. This speeds up interrupt handling as the processor can
        directly invoke the interrupt service routine for the right device.</td>
    </tr>
    <tr>
      <td><a href="#Synchronization%20Requirements%20for%20DMA%20and%20Interrupts">Synchronization
        Requirements for DMA and Interrupts</a></td>
      <td>Software designers need to keep in mind that DMA
        operations can be triggered at bus cycle boundary while interrupts can
        only be triggered at instruction boundary.</td>
    </tr>
  </tbody></table>
<h2 id="Direct Memory Access (DMA)">Direct Memory Access (DMA)</h2>
<ol>
  <li>Device wishing to perform DMA asserts the processors bus request signal.</li>
  <li>Processor completes the current bus cycle and then asserts the bus grant
    signal to the device.</li>
  <li>The device then asserts the bus grant ack signal.</li>
  <li>The processor senses in the change in the state of bus grant ack signal
    and starts listening to the data and address bus for DMA activity.</li>
  <li>The DMA device performs the transfer from the source to destination
    address.</li>
  <li>During these transfers, the processor monitors the addresses on the bus
    and checks if any location modified during DMA operations is cached in the
    processor. If the processor detects a cached address on the bus, it can take
    one of the two actions:
    <ul>
      <li>Processor invalidates the internal cache entry for the address
        involved in DMA write operation</li>
      <li>Processor updates the internal cache when a DMA write is detected</li>
    </ul>
  </li>
  <li>Once the DMA operations have been completed, the device releases the bus
    by asserting the bus release signal.</li>
  <li>Processor acknowledges the bus release and resumes its bus cycles from the
    point it left off.</li>
</ol>
<h2 id="Interrupt Handling">Interrupt Handling</h2>
<p>Here we describe interrupt handling in a scenario where the hardware does not
support identifying the device that initiated the interrupt. In such cases, the
possible interrupting devices need to be polled in software.</p>
<ol>
  <li>A device asserts the interrupt signal at a hardwired interrupt level.</li>
  <li>The processor registers the interrupt and waits to finish the current
    instruction execution.</li>
  <li>Once the current instruction execution is completed, the processor
    initiates the interrupt handling by saving the current register contents on
    the stack.</li>
  <li>The processor then switches to supervisor mode and initiates an interrupt
    acknowledge cycle.</li>
  <li>No device responds to the interrupt acknowledge cycle, so the processor
    fetches the vector corresponding to the interrupt level.</li>
  <li>The address found at the vector is the address of the interrupt service
    routine (ISR).</li>
  <li>The ISR polls all the devices to find the device that caused the
    interrupt. This is accomplished by checking the interrupt status registers
    on the devices that could have triggered the interrupt.</li>
  <li>Once the device is located, control is transferred to the handler specific
    to the interrupting device.</li>
  <li>After the device specific ISR routine has performed its job, the ISR
    executes the "return from interrupt" instruction.</li>
  <li>Execution of the "return from interrupt" instruction results in
    restoring the processor state. The processor is restored back to user mode.</li>
</ol>
<h2 id="Interrupt Acknowledge Cycle">Interrupt Acknowledge Cycle</h2>
<p>Here we describe interrupt handling in a scenario where the hardware does
support identifying the device that initiated the interrupt. In such cases, the
exact source of the interrupt can be identified at hardware level.</p>
<ol>
  <li>A device asserts the interrupt signal at a hardwired interrupt level.</li>
  <li>The processor registers the interrupt and waits to finish the current
    instruction execution.</li>
  <li>Once the current instruction execution is completed, the processor
    initiates the interrupt handling by saving the current register contents on
    the stack.</li>
  <li>The processor then switches to supervisor mode and initiates an interrupt
    acknowledge cycle.</li>
  <li>The interrupting device responds to the interrupt acknowledge cycle with
    the vector number for the interrupt.</li>
  <li>Processor uses the vector number obtained above and fetches the vector.</li>
  <li>The address found at the vector is the address of the interrupt service
    routine (ISR) for the interrupting device.</li>
  <li>After the&nbsp; ISR routine has performed its job, the ISR executes the
    "return from interrupt" instruction.</li>
  <li>Execution of the "return from interrupt" instruction results in
    restoring the processor state. The processor is restored back to user mode.</li>
</ol>
<h2 id="Synchronization Requirements for DMA and Interrupts">Synchronization
Requirements for DMA and Interrupts</h2>
<p>Many times software designers have to work with data structures that are
shared with interrupts or DMA devices. This requires performing atomic updates
to the shared critical regions.</p>
<h3>Synchronization With Interrupts</h3>
<p>When a data structure is shared with an ISR, disabling the interrupt to
execute the critical region updates is a good technique. Keep in mind that
disabling of interrupts should be restricted to only the code that updates the
critical region. Keeping the interrupts disabled for a long time will increase
the interrupt latency.&nbsp;</p>
<p>Another option is to make use of the fact that interrupts are processed at
instruction boundaries. A single instruction that performs read as well as write
could be used to perform an atomic transaction. For example, if your processor
supports direct memory increment, you could increment a shared semaphore without
disabling interrupts.</p>
<h3>&nbsp;Synchronization With DMA</h3>
<p>Sharing data structures with a DMA device is tricky. The processor can
initiate a DMA operation at a bus cycle boundary. This means that a new DMA
operation can be started in the middle of an instruction execution (Keep in mind
that an instruction execution involves multiple bus cycles).</p>
<p>The best mechanism to perform critical region updates is to use the <a href="http://www.eventhelix.com/RealtimeMantra/FaultHandling/bus_cycles.htm#Read-Modify-Write%20Bus%20Cycle">read-modify-write
bus cycle</a>. With this instruction, atomic updates can be made to critical
regions as the read and write are glued together in a special bus cycle.&nbsp;</p>
<p>Another option is to disable DMA operation. Extreme caution should be used
when employing these techniques.</p>
<ul>
  <li>Some processors also support disabling DMA operations by using locked bus
    cycles. The processor could execute lock instruction to disable external bus
    grants. When critical region updates have been completed, the unlock
    instruction is used to allow bus grants.</li>
  <li>Another mechanism to prevent DMA might be to temporarily disable the
    device that will perform DMA. For example, if the DMA operations are being
    performed by an Ethernet controller, disabling the Ethernet controller will
    make sure no DMA operations are started when a critical region update is
    being made.</li>
</ul>
		
		<!-- #EndEditable --></div></div>

	
	<div id="footer-menu">
		<div class="footer-column">
			<h5>
			<a href="http://www.eventhelix.com/EventStudio/" title="Model object and message interactions in text. Visualize with sequence diagrams and context diagrams.">EventStudio</a></h5>
			
			<ul>
					<li>
					<a href="http://www.eventhelix.com/EventStudio/sequence-diagram-gallery.htm" title="Sample the call flow and sequence diagrams generated from EventStudio">call flow gallery</a></li>
				    <li>
					<a href="http://www.eventhelix.com/EventStudio/text-model-to-sequence-diagram.htm" title="Generate sequence diagrams from a text description">sequence diagrams</a></li>
				    <li>
					<a href="http://www.eventhelix.com/EventStudio/model-with-sequence-diagrams.htm" title="Model use cases, call flows and object interactions">use cases &amp; more</a></li>
				    <li>
					<a href="http://www.eventhelix.com/EventStudio/testimonials.htm" title="What our customers think...">testimonials</a></li>
				    <li>
					<a href="http://www.eventhelix.com/EventStudio/download.htm" title="Download a 45 day free trial">download free trial</a></li>

			</ul>

		</div>
		<div class="footer-column">
			<h5>
			<a href="http://www.eventhelix.com/VisualEther/" title="Convert Wireshark output to sequence diagrams. Visualize traces and simplify debugging.">VisualEther</a></h5>
			<ul>
				<li>
				<a href="http://www.eventhelix.com/VisualEther/wireshark-callflow-gallery.htm" title="Sample the call flow and sequence diagrams generated from Wireshark PCAP files.">Wireshark gallery</a></li>
				<li>
				<a href="http://www.eventhelix.com/VisualEther/getting-started.htm#generate-sequence-diagram-from-wireshark" title="Visualize Wireshark logs as sequence diagrams.">visualize Wireshark</a></li>
				<li>
				<a href="http://www.eventhelix.com/VisualEther/getting-started.htm#protocol-diagnostics" title="Flag and zoom into errors in large Wireshark logs.">auto diagnose</a></li>
				<li>
				<a href="http://www.eventhelix.com/VisualEther/getting-started.htm#add-parameters" title="Select fields to display in sequence diagrams">select fields</a></li>
				<li>
				<a href="http://www.eventhelix.com/VisualEther/download.htm" title="Download a 45 day free trial">download free trial</a></li>
			</ul>
		</div>

		
		<div class="footer-column">
			<h5><a href="http://www.eventhelix.com/RealtimeMantra/#Telecom_Networking">Telecom+networking</a></h5>
			<ul>
				<li>
				<a href="http://www.eventhelix.com/lte/" title="Long Term Evolution (LTE) tutorials, presentations and call flows">LTE tutorials and call flows</a></li>
				<li>
				<a href="http://www.eventhelix.com/ims/" title="IP Multimedia Subsystem (IMS) call flows">IMS call flows</a></li>
				<li>
				<a href="http://www.eventhelix.com/RealtimeMantra/Telecom/" title="Explore call flows for LTE, IMS, SIP, GSM and more">telecom call flows</a></li>
				<li>
				<a href="http://www.eventhelix.com/RealtimeMantra/Networking/" title="Understand protocol flows for TCP, HTTP, FTP, VoIP and more">TCP/IP protocol flows</a></li>
			</ul>
		</div>
		
		<div class="footer-column">
			<h5><a href="http://www.eventhelix.com/RealtimeMantra/#Software_Design">Software Design</a></h5>
			<ul>
				<li>
				<a href="http://www.eventhelix.com/RealtimeMantra/Object_Oriented/" title="Object oriented design principles and techniques">object oriented design</a></li>
				<li>
				<a href="http://www.eventhelix.com/RealtimeMantra/Patterns/" title="Design patterns suitable for embedded software design">design patterns</a></li>
				<li>
				<a href="http://www.eventhelix.com/RealtimeMantra/Basics/" title="Real-time and embedded design issues">embedded design</a></li>
				<li>
				<a href="http://www.eventhelix.com/RealtimeMantra/FaultHandling/" title="Software and hardware fault handling techniques">fault handling</a></li>
				<li>
				<a href="http://www.eventhelix.com/RealtimeMantra/CongestionControl/" title="Congestion and overload control">congestion control</a></li>
			</ul>
		</div>
		
		
		<div class="footer-column">
			<h5><a href="https://www.facebook.com/eventhelix/">Follow</a></h5>
			<ul>
				<li><a href="https://www.facebook.com/eventhelix/" title="Follow us on Facebook">facebook</a></li>
				<li><a href="https://twitter.com/eventhelix/" title="Follow us on Twitter">twitter</a></li>
				<li>
				<a href="http://www.linkedin.com/company/eventhelix-com-inc-" title="Follow us on Linkedin">linkedin</a></li>
				<li><a href="http://eventhelix.tumblr.com/" title="Follow us on Tumblr">tumblr</a></li>
				<li><a href="https://plus.google.com/112055354187217906295/" title="Follow us on Google+">google+</a></li>
			</ul>
		</div>
		
		<div class="footer-column-fixed">
			<h5>Share</h5>
			<!-- AddThis Button BEGIN -->
			<div class="addthis_toolbox addthis_default_style ">
				<a href="#" title="Facebook" class="addthis_button_facebook addthis_button_preferred_1 at300b"><span style="background-color: rgb(59, 89, 152); line-height: 16px; height: 16px; width: 16px;" class="at-icon-wrapper"><svg alt="Facebook" title="Facebook" style="width: 16px; height: 16px;" class="at-icon at-icon-facebook" viewBox="0 0 32 32" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg"><g><path fill-rule="evenodd" d="M22 5.16c-.406-.054-1.806-.16-3.43-.16-3.4 0-5.733 1.825-5.733 5.17v2.882H9v3.913h3.837V27h4.604V16.965h3.823l.587-3.913h-4.41v-2.5c0-1.123.347-1.903 2.198-1.903H22V5.16z"></path></g></svg></span></a>
				<a href="#" title="Twitter" class="addthis_button_twitter addthis_button_preferred_2 at300b"><span style="background-color: rgb(29, 161, 242); line-height: 16px; height: 16px; width: 16px;" class="at-icon-wrapper"><svg alt="Twitter" title="Twitter" style="width: 16px; height: 16px;" class="at-icon at-icon-twitter" viewBox="0 0 32 32" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg"><g><path fill-rule="evenodd" d="M27.996 10.116c-.81.36-1.68.602-2.592.71a4.526 4.526 0 0 0 1.984-2.496 9.037 9.037 0 0 1-2.866 1.095 4.513 4.513 0 0 0-7.69 4.116 12.81 12.81 0 0 1-9.3-4.715 4.49 4.49 0 0 0-.612 2.27 4.51 4.51 0 0 0 2.008 3.755 4.495 4.495 0 0 1-2.044-.564v.057a4.515 4.515 0 0 0 3.62 4.425 4.52 4.52 0 0 1-2.04.077 4.517 4.517 0 0 0 4.217 3.134 9.055 9.055 0 0 1-5.604 1.93A9.18 9.18 0 0 1 6 23.85a12.773 12.773 0 0 0 6.918 2.027c8.3 0 12.84-6.876 12.84-12.84 0-.195-.005-.39-.014-.583a9.172 9.172 0 0 0 2.252-2.336"></path></g></svg></span></a>
				<a href="#" title="Print" class="addthis_button_print addthis_button_preferred_3 at300b"><span style="background-color: rgb(115, 138, 141); line-height: 16px; height: 16px; width: 16px;" class="at-icon-wrapper"><svg alt="Print" title="Print" style="width: 16px; height: 16px;" class="at-icon at-icon-print" viewBox="0 0 32 32" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg"><g><path d="M24.67 10.62h-2.86V7.49H10.82v3.12H7.95c-.5 0-.9.4-.9.9v7.66h3.77v1.31L15 24.66h6.81v-5.44h3.77v-7.7c-.01-.5-.41-.9-.91-.9zM11.88 8.56h8.86v2.06h-8.86V8.56zm10.98 9.18h-1.05v-2.1h-1.06v7.96H16.4c-1.58 0-.82-3.74-.82-3.74s-3.65.89-3.69-.78v-3.43h-1.06v2.06H9.77v-3.58h13.09v3.61zm.75-4.91c-.4 0-.72-.32-.72-.72s.32-.72.72-.72c.4 0 .72.32.72.72s-.32.72-.72.72zm-4.12 2.96h-6.1v1.06h6.1v-1.06zm-6.11 3.15h6.1v-1.06h-6.1v1.06z"></path></g></svg></span></a>
				<a href="#" title="Email" target="_blank" class="addthis_button_email addthis_button_preferred_4 at300b"><span style="background-color: rgb(132, 132, 132); line-height: 16px; height: 16px; width: 16px;" class="at-icon-wrapper"><svg alt="Email" title="Email" style="width: 16px; height: 16px;" class="at-icon at-icon-email" viewBox="0 0 32 32" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg"><g><g fill-rule="evenodd"></g><path d="M27 22.757c0 1.24-.988 2.243-2.19 2.243H7.19C5.98 25 5 23.994 5 22.757V13.67c0-.556.39-.773.855-.496l8.78 5.238c.782.467 1.95.467 2.73 0l8.78-5.238c.472-.28.855-.063.855.495v9.087z"></path><path d="M27 9.243C27 8.006 26.02 7 24.81 7H7.19C5.988 7 5 8.004 5 9.243v.465c0 .554.385 1.232.857 1.514l9.61 5.733c.267.16.8.16 1.067 0l9.61-5.733c.473-.283.856-.96.856-1.514v-.465z"></path></g></svg></span></a>
				<a href="#" class="addthis_button_compact at300m"><span style="background-color: rgb(255, 101, 80); line-height: 16px; height: 16px; width: 16px;" class="at-icon-wrapper"><svg alt="More" title="More" style="width: 16px; height: 16px;" class="at-icon at-icon-addthis" viewBox="0 0 32 32" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg"><g><path fill-rule="evenodd" d="M18 14V8h-4v6H8v4h6v6h4v-6h6v-4h-6z"></path></g></svg></span></a>
			<div class="atclear"></div></div>
			<script type="text/javascript">var addthis_config = {"data_track_addressbar":true};</script>
			<script type="text/javascript" src="Direct%20Memory%20Access%20%28DMA%29%20and%20Interrupt%20Handling_files/addthis_widget.js"></script>
			<!-- AddThis Button END -->
			<h5><a href="http://www.eventhelix.com/">Company</a></h5>
			<ul>
				<li><a href="http://www.eventhelix.com/contact_us.htm" title="Contact us">contact us</a></li>
				<li><a href="http://blog.eventhelix.com/" title="telecom • networking • software - an EventHelix.com blog">blog</a></li>
			</ul>


		</div>
		<hr class="minimal">
		<p id="footer-copyright">© 2017 EventHelix.com Inc.</p>
	</div>
	
	
	

</div><script id="script-httpbaluptongithubcomjquerysyntaxhighlighterprettifyprettifyminjs" src="Direct%20Memory%20Access%20%28DMA%29%20and%20Interrupt%20Handling_files/prettify.js" type="text/javascript"></script><link id="stylesheet-httpbaluptongithubcomjquerysyntaxhighlighterprettifyprettifymincss" href="Direct%20Memory%20Access%20%28DMA%29%20and%20Interrupt%20Handling_files/prettify.css" media="screen" rel="stylesheet" type="text/css"><link id="stylesheet-httpbaluptongithubcomjquerysyntaxhighlighterstylesstylemincss" href="Direct%20Memory%20Access%20%28DMA%29%20and%20Interrupt%20Handling_files/style_002.css" media="screen" rel="stylesheet" type="text/css"><link id="stylesheet-httpbaluptongithubcomjquerysyntaxhighlighterstylesthemebaluptonmincss" href="Direct%20Memory%20Access%20%28DMA%29%20and%20Interrupt%20Handling_files/theme-balupton.css" media="screen" rel="stylesheet" type="text/css"><div id="_atssh" style="visibility: hidden; height: 1px; width: 1px; position: absolute; top: -9999px; z-index: 100000;"><iframe src="Direct%20Memory%20Access%20%28DMA%29%20and%20Interrupt%20Handling_files/sh.html" style="height: 1px; width: 1px; position: absolute; top: 0px; z-index: 100000; border: 0px none; left: 0px;" title="AddThis utility frame" id="_atssh861"></iframe></div><style id="service-icons-0"></style>






</body><!-- #EndTemplate --></html>